{"version":3,"sources":["webpack:///./src/assets/logo.svg","webpack:///src/App.vue","webpack:///./src/App.vue?e065","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/sugar-uuid.js"],"names":["module","exports","App_i","sugar_uuid_default","a","toLowerCase","App","name","components","data","supportBluetooth","isConnected","serverId","ssid","password","key","wifiLock","characteristicsList","infoList","commandList","commandOutput","commandOutputShouldRefresh","loading","charLength","customInfoCount","customCommandCount","isAndroid","navigator","userAgent","indexOf","isIphone","mounted","this","window","bluetooth","methods","connectDevice","_this","that","requestDevice","filters","services","SERVICE_ID","then","device","element_ui_common","service","fullscreen","gatt","connect","server","id","getPrimaryService","console","log","webBleConnect","getCharacteristics","characteristics","close","catch","_ref","_this2","promise_default","asyncToGenerator_default","regenerator_default","mark","_callee","resolve","customInfoList","index","ending","customCommandList","_index","_ending","wrap","_context","prev","next","getCharacteristic","PREFIX","CUSTOM_INFO_COUNT","characteristic","readValue","i","buffer","ab2str","parseInt","value","CUSTOM_COMMAND_COUNT","toString","repeat","length","push","CUSTOM_INFO","CUSTOM_INFO_LABEL","CUSTOM_COMMAND_LABEL","all","SERVICE_NAME","DEVICE_MODEL","WIFI_NAME","IP_ADDRESS","NOTIFY_MESSAGE","INPUT_SEP","CUSTOM_COMMAND_INPUT","CUSTOM_COMMAND_NOTIFY","concat","toConsumableArray_default","map","stop","_x","apply","arguments","buf","String","fromCharCode","Uint8Array","uuid","find","subscribeCharacteristic","_ref2","_this3","_callee2","_context2","addEventListener","event","target","msg","h","$createElement","$notify","title","message","style","_msg","output","endsWith","replace","char","char_label","uuid_label","label","startNotifications","_x2","readInfoCharacteristic","_this4","readCommandLabel","_this5","inputWifi","_this6","trim","errMsg","setTimeout","sendArray","str2abs","sendSeparately","sendCommand","slice","array","_this7","_callee3","_i","_context3","t0","keys","t1","done","writeValue","wait","sec","_this8","_callee4","_context4","abrupt","str","val","_i2","charCodeAt","valArray","split","bufferArray","splice","join","match","watch","oldVal","_this9","_callee5","_i3","_i4","_context5","preset","filter","item","selectortype_template_index_0_src_App","render","_vm","_h","_c","_self","attrs","staticClass","src","__webpack_require__","_v","_e","_m","on","click","_l","_s","placeholder","model","callback","$$v","expression","slot","type","disabled","size","round","$event","rows","staticRenderFns","href","src_App","normalizeComponent","ssrContext","Vue","config","productionTip","use","ElementUI","el","template","INPUT"],"mappings":"4DAAAA,EAAAC,QAAA,u0IC4EA,QAAAC,KAAAC,EAAAC,EACED,EAAAC,EAAFF,GAAAC,EAAAC,EAAAF,GAAAG,cAEA,IAAAC,GACAC,KAAA,MACAC,cAGAC,KALA,WAMA,OACAC,kBAAA,EACAC,aAAA,EACAC,SAAA,GACAC,KAAA,GACAC,SAAA,GACAC,IAAA,UACAC,UAAA,EACAC,uBACAC,YACAC,eACAC,cAAA,GACAC,4BAAA,EACAC,QAAA,KACAC,YAAA,EACAC,gBAAA,EACAC,mBAAA,EACAC,UAAAC,UAAAC,UAAAC,QAAA,eAAAF,UAAAC,UAAAC,QAAA,UACAC,SAAAH,UAAAC,UAAAC,QAAA,cAAAF,UAAAC,UAAAC,QAAA,eAIAE,QA5BA,WA6BAC,KAAAtB,iBAAAuB,OAAAN,UAAAO,WAEAC,SACAC,cADA,WACA,IAAAC,EAAAL,KACAM,EAAAN,KACAL,UAAAO,UAAAK,eACAC,UACAC,UAAAtC,EAAAC,EAAAsC,gBAGAC,KAAA,SAAAC,GAEA,OADAN,EAAAhB,QAAAuB,EAAA,QAAAC,SAAAC,YAAA,IACAH,EAAAI,KAAAC,YAEAN,KAAA,SAAAO,GAEA,OADAZ,EAAA1B,SAAAsC,EAAAN,OAAAO,GACAD,EAAAE,kBAAAjD,EAAAC,EAAAsC,cAEAC,KAAA,SAAAG,GACA,OAAAT,EAAAP,UAEAuB,QAAAC,IAAA,cACAjB,EAAAkB,cAAAT,IAEAA,EAAAU,uBAGAb,KAAA,SAAAc,GACAnB,EAAArB,oBAAAwC,EACAnB,EAAA3B,aAAA,EACA2B,EAAAhB,QAAAoC,UAGAC,MAAAN,QAAAC,MAEAC,cAjCA,SAiCAT,GAAA,IAEAc,EAFAC,EAAA7B,KACAM,EAAAN,KACA,WAAA8B,EAAA1D,GAAAwD,EAAAG,IAAAC,EAAA5D,EAAA6D,KAAA,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAT,EAAA5D,EAAAsE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACA/B,EAAAgC,kBAAA3E,EAAAC,EAAA2E,OAAA5E,EAAAC,EAAA4E,mBACArC,KAAA,SAAAsC,GAAA,OAAAA,EAAAC,cACAvC,KAAA,SAAAwC,GAAA,OAAAA,EAAAC,SACAzC,KAAAkB,EAAAwB,QACA1C,KAAA2C,UACA3C,KAAA,SAAA4C,GACAlC,QAAAC,IAAA,qBAAAiC,GACAjD,EAAAd,gBAAA+D,IARA,cAAAZ,EAAAE,KAAA,EAUA/B,EAAAgC,kBAAA3E,EAAAC,EAAA2E,OAAA5E,EAAAC,EAAAoF,sBACA7C,KAAA,SAAAsC,GAAA,OAAAA,EAAAC,cACAvC,KAAA,SAAAwC,GAAA,OAAAA,EAAAC,SACAzC,KAAAkB,EAAAwB,QACA1C,KAAA2C,UACA3C,KAAA,SAAA4C,GACAlC,QAAAC,IAAA,wBAAAiC,GACAjD,EAAAb,mBAAA8D,IAjBA,OAoBA,IADAnB,KACAC,EAAA,EAAAA,EAAA/B,EAAAd,gBAAA6C,IACAC,GAAAD,EAAA,GAAAoB,SAAA,IACAnB,EAAA,IAAAoB,OAAA,EAAApB,EAAAqB,QAAArB,EACAF,EAAAwB,KAAAzF,EAAAC,EAAA2E,OAAA5E,EAAAC,EAAAyF,YAAAvB,GACAF,EAAAwB,KAAAzF,EAAAC,EAAA2E,OAAA5E,EAAAC,EAAA0F,kBAAAxB,GAGA,IADAC,KACAC,EAAA,EAAAA,EAAAlC,EAAAb,mBAAA+C,IACAC,GAAAD,EAAA,GAAAiB,SAAA,IACAhB,EAAA,IAAAiB,OAAA,EAAAjB,EAAAkB,QAAAlB,EACAF,EAAAqB,KAAAzF,EAAAC,EAAA2E,OAAA5E,EAAAC,EAAA2F,qBAAAtB,GAEAN,EAAAL,EAAA1D,EAAA4F,KACAlD,EAAAgC,kBAAA3E,EAAAC,EAAA6F,cACAnD,EAAAgC,kBAAA3E,EAAAC,EAAA8F,cACApD,EAAAgC,kBAAA3E,EAAAC,EAAA+F,WACArD,EAAAgC,kBAAA3E,EAAAC,EAAAgG,YACAtD,EAAAgC,kBAAA3E,EAAAC,EAAAiG,gBACAvD,EAAAgC,kBAAA3E,EAAAC,EAAAkG,WACAxD,EAAAgC,kBAAA3E,EAAAC,EAAAmG,sBACAzD,EAAAgC,kBAAA3E,EAAAC,EAAAoG,wBARAC,OAAAC,IASAtC,EAAAuC,IAAA,SAAAxB,GAAA,OAAArC,EAAAgC,kBAAAK,MATAuB,IAUAnC,EAAAoC,IAAA,SAAAxB,GAAA,OAAArC,EAAAgC,kBAAAK,SA1CA,wBAAAR,EAAAiC,SAAA1C,EAAAL,MAAA,SAAAgD,GAAA,OAAAjD,EAAAkD,MAAA9E,KAAA+E,eA8CA1B,OAjFA,SAiFA2B,GACA,OAAAC,OAAAC,aAAAJ,MAAA,SAAAK,WAAAH,KAEAlC,kBApFA,SAoFAsC,GACA,OAAApF,KAAAf,oBAAAoG,KAAA,SAAAlC,GAAA,OAAAA,EAAAiC,YAEAE,wBAvFA,SAuFAF,GAAA,IACAG,EADAC,EAAAxF,KACA,WAAA8B,EAAA1D,GAAAmH,EAAAxD,IAAAC,EAAA5D,EAAA6D,KAAA,SAAAwD,EAAAtD,GAAA,OAAAH,EAAA5D,EAAAsE,KAAA,SAAAgD,GAAA,cAAAA,EAAA9C,KAAA8C,EAAA7C,MAAA,cACA2C,EAAA1C,kBAAAsC,GAAAO,iBAAA,sCAAAC,GACA,GAAAA,EAAAC,OAAAT,OAAAjH,EAAAC,EAAAiG,eAAA,CACA,IAAAyB,EAAAN,EAAAnC,OAAAuC,EAAAC,OAAAtC,MAAAH,QACA2C,EAAAP,EAAAQ,eACAR,EAAAS,SACAC,MAAA,QACAC,QAAAJ,EAAA,KAAAK,MAAA,eAAAN,UAEA,GAAAF,EAAAC,OAAAT,OAAAjH,EAAAC,EAAAoG,sBAAA,CACA,IAAA6B,EAAAb,EAAAnC,OAAAuC,EAAAC,OAAAtC,MAAAH,QACAoC,EAAAnG,6BACAmG,EAAAnG,4BAAA,EACAmG,EAAApG,cAAA,IAEA,IAAAkH,EAAAd,EAAApG,cAAAiH,EACAC,EAAAC,SAAA,SACAD,IAAAE,QAAA,UACAhB,EAAAnG,4BAAA,GAEAmG,EAAApG,cAAAkH,MACA,CACA,IAAA/C,EAAAiC,EAAAnC,OAAAuC,EAAAC,OAAAtC,MAAAH,QACAqD,EAAAjB,EAAAtG,SAAAmG,KAAA,SAAAlC,GAAA,OAAAA,EAAAiC,WACAsB,EAAAlB,EAAAtG,SAAAmG,KAAA,SAAAlC,GAAA,OAAAA,EAAAwD,aAAAvB,IACAqB,IACAA,EAAAlD,SAEAmD,IACAA,EAAAE,MAAArD,MA7BAmC,EAAA7C,KAAA,EAiCA2C,EAAA1C,kBAAAsC,GAAAyB,qBAjCA,OAkCA1E,IAlCA,wBAAAuD,EAAAd,SAAAa,EAAAD,MAAA,SAAAsB,GAAA,OAAAvB,EAAAT,MAAA9E,KAAA+E,eAqCAgC,uBA7HA,SA6HA3B,GAAA,IAAA4B,EAAAhH,KACA,WAAA8B,EAAA1D,EAAA,SAAA+D,GACA6E,EAAAlE,kBAAAsC,GAAAlC,YACAvC,KAAA,SAAAwC,GAAA,OAAAA,EAAAC,SACAzC,KAAAqG,EAAA3D,QACA1C,KAAA,SAAA4C,GACA,IAAAkD,EAAAO,EAAA9H,SAAAmG,KAAA,SAAAlC,GAAA,OAAAA,EAAAiC,WACAsB,EAAAM,EAAA9H,SAAAmG,KAAA,SAAAlC,GAAA,OAAAA,EAAAwD,aAAAvB,IACAqB,IACAA,EAAAlD,SAEAmD,IACAA,EAAAE,MAAArD,GAEApB,SAIA8E,iBA/IA,SA+IA7B,GAAA,IAAA8B,EAAAlH,KACA,WAAA8B,EAAA1D,EAAA,SAAA+D,GACA+E,EAAApE,kBAAAsC,GAAAlC,YACAvC,KAAA,SAAAwC,GAAA,OAAAA,EAAAC,SACAzC,KAAAuG,EAAA7D,QACA1C,KAAA,SAAAiG,GACAM,EAAA/H,YAAAkG,KAAA,SAAAlC,GAAA,OAAAA,EAAAiC,WAAAwB,QACAzE,SAIAgF,UA1JA,WA0JA,IAAAC,EAAApH,KACAjB,EAAAiB,KAAAjB,IAAAsI,OAAAb,QAAA,WACA3H,EAAAmB,KAAAnB,KAAAwI,OAAAb,QAAA,WACA1H,EAAAkB,KAAAlB,SAAAuI,OAAAb,QAAA,WACAc,OAAA,EAOA,GANA,KAAAzI,IACAyI,EAAA,yBAEA,KAAAxI,IACAwI,EAAA,6BAEAA,EAAA,CACA,IAAAvB,EAAA/F,KAAAgG,eACAhG,KAAAiG,SACAC,MAAA,QACAC,QAAAJ,EAAA,KAAAK,MAAA,eAAAkB,SAJA,CAQAtH,KAAAhB,UAAA,EACAuI,WAAA,WACAH,EAAApI,UAAA,GACA,KACA,IAAAwI,EAAAxH,KAAAyH,QAAA1I,EAAA,MAAAF,EAAA,MAAAC,EAAA,OACAkB,KAAA0H,eAAAF,EAAArJ,EAAAC,EAAAkG,aAEAqD,YApLA,SAoLAvC,GACA,IAAAoC,EAAAxH,KAAAyH,QAAAzH,KAAAjB,IAAA,MAAAqG,EAAAwC,OAAA,UACA5H,KAAA0H,eAAAF,EAAArJ,EAAAC,EAAAmG,uBAEAmD,eAxLA,SAwLAG,EAAAzC,GAAA,IAAA0C,EAAA9H,KAAA,OAAA+B,IAAAC,EAAA5D,EAAA6D,KAAA,SAAA8F,IAAA,IAAAC,EAAA,OAAAhG,EAAA5D,EAAAsE,KAAA,SAAAuF,GAAA,cAAAA,EAAArF,KAAAqF,EAAApF,MAAA,OAAAoF,EAAAC,GAAAlG,EAAA5D,EAAA+J,KACAN,GADA,WAAAI,EAAAG,GAAAH,EAAAC,MAAAG,KAAA,CAAAJ,EAAApF,KAAA,eACAmF,EADAC,EAAAG,GAAA7E,MAAA0E,EAAApF,KAAA,EAEAiF,EAAAhF,kBAAAsC,GAAAkD,WAAAT,EAAAG,IAFA,cAAAC,EAAApF,KAAA,EAGAiF,EAAAS,KAAA,IAHA,OAAAN,EAAApF,KAAA,gCAAAoF,EAAArD,SAAAmD,EAAAD,KAAA/F,IAMAwG,KA9LA,SA8LAC,GAAA,IAAAC,EAAAzI,KAAA,OAAA+B,IAAAC,EAAA5D,EAAA6D,KAAA,SAAAyG,IAAA,OAAA1G,EAAA5D,EAAAsE,KAAA,SAAAiG,GAAA,cAAAA,EAAA/F,KAAA+F,EAAA9F,MAAA,cAAA8F,EAAAC,OAAA,SACA,IAAA9G,EAAA1D,EAAA,SAAA+D,GACAoF,WAAA,WACApF,GAAA,IACA,IAAAqG,MAJA,wBAAAG,EAAA/D,SAAA8D,EAAAD,KAAA1G,IAOA0F,QArMA,SAqMAoB,GAEA,IADA,IAAAC,EAAA,GACAC,EAAA,EAAAA,EAAAF,EAAAlF,OAAAoF,IACA,KAAAD,EACAA,EAAAD,EAAAG,WAAAD,GAAAtF,SAAA,IAEAqF,GAAA,IAAAD,EAAAG,WAAAD,GAAAtF,SAAA,IAKA,IAFA,IAAAwF,EAAAH,EAAAI,MAAA,KACAC,KACAF,EAAAtF,OAAA,IACA,IAAAJ,EAAA0F,EAAAG,OAAA,MAAAC,KAAA,KACAF,EAAAvF,KAAA,IAAAuB,WAAA5B,EAAA+F,MAAA,gBAAA3E,IAAA,SAAAoB,GACA,OAAAzC,SAAAyC,EAAA,OACA3C,QAEA,OAAA+F,IAGAI,OACA5K,YADA,SACAmK,EAAAU,GAAA,IAAAC,EAAAzJ,KAAA,OAAA+B,IAAAC,EAAA5D,EAAA6D,KAAA,SAAAyH,IAAA,IAAAC,EAAAC,EAAA,OAAA5H,EAAA5D,EAAAsE,KAAA,SAAAmH,GAAA,cAAAA,EAAAjH,KAAAiH,EAAAhH,MAAA,WACA,IAAAiG,IAAA,IAAAU,EADA,CAAAK,EAAAhH,KAAA,gBAEAxB,QAAAC,IAAA,cACAmI,EAAAvK,YACAuK,EAAAvK,SAAA0E,MACAkG,QAAA,EACA1E,KAAA,GACAwB,MAAA,YACArD,MAAAkG,EAAA7K,WAEA6K,EAAAvK,SAAA0E,MACAkG,QAAA,EACA1E,KAAAjH,EAAAC,EAAA8F,aACA0C,MAAA,QACArD,MAAA,MAEAkG,EAAAvK,SAAA0E,MACAkG,QAAA,EACA1E,KAAAjH,EAAAC,EAAA+F,UACAyC,MAAA,OACArD,MAAA,QAEAkG,EAAAvK,SAAA0E,MACAkG,QAAA,EACA1E,KAAAjH,EAAAC,EAAAgG,WACAwC,MAAA,aACArD,MAAA,QA1BAsG,EAAAhH,KAAA,EA4BA4G,EAAAnE,wBAAAnH,EAAAC,EAAA+F,WA5BA,cAAA0F,EAAAhH,KAAA,GA6BA4G,EAAAnE,wBAAAnH,EAAAC,EAAAgG,YA7BA,eAAAyF,EAAAhH,KAAA,GA8BA4G,EAAA1C,uBAAA5I,EAAAC,EAAA8F,cA9BA,eAAA2F,EAAAhH,KAAA,GA+BA4G,EAAAnE,wBAAAnH,EAAAC,EAAAiG,gBA/BA,eAAAwF,EAAAhH,KAAA,GAgCA4G,EAAAnE,wBAAAnH,EAAAC,EAAAoG,uBAhCA,QAiCAiF,EAAAxK,oBAAA8K,OAAA,SAAA5G,GAAA,OAAAA,EAAAiC,KAAAvF,QAAA1B,EAAAC,EAAA0F,oBAAA,IAAAa,IAAA,SAAAqF,GACAP,EAAAvK,SAAA0E,MACAwB,KAAA4E,EAAA5E,KAAAoB,QAAArI,EAAAC,EAAA0F,kBAAA3F,EAAAC,EAAAyF,aACA8C,WAAAqD,EAAA5E,KACAwB,MAAA,IACArD,MAAA,OAGAoG,EAAA,EAzCA,aAyCAA,EAAAF,EAAAvK,SAAAyE,QAzCA,CAAAkG,EAAAhH,KAAA,aA0CA4G,EAAAvK,SAAAyK,GAAAG,OA1CA,CAAAD,EAAAhH,KAAA,gBAAAgH,EAAAjB,OAAA,8BAAAiB,EAAAhH,KAAA,GA2CA4G,EAAA1C,uBAAA0C,EAAAvK,SAAAyK,GAAAhD,YA3CA,eAAAkD,EAAAhH,KAAA,GA4CA4G,EAAAnE,wBAAAmE,EAAAvK,SAAAyK,GAAAvE,MA5CA,QAyCAuE,IAzCAE,EAAAhH,KAAA,iBA8CA4G,EAAAxK,oBAAA8K,OAAA,SAAA5G,GAAA,OAAAA,EAAAiC,KAAAvF,QAAA1B,EAAAC,EAAA2F,uBAAA,IAAAY,IAAA,SAAAqF,GACAP,EAAAtK,YAAAyE,MACAwB,KAAA4E,EAAA5E,KACAwB,MAAA,UAGAgD,EAAA,EApDA,aAoDAA,EAAAH,EAAAtK,YAAAwE,QApDA,CAAAkG,EAAAhH,KAAA,gBAAAgH,EAAAhH,KAAA,GAqDA4G,EAAAxC,iBAAAwC,EAAAtK,YAAAyK,GAAAxE,MArDA,QAoDAwE,IApDAC,EAAAhH,KAAA,kCAAAgH,EAAAjF,SAAA8E,EAAAD,KAAA1H,MCrUekI,GADEC,OAFjB,WAA0B,IAAAC,EAAAnK,KAAaoK,EAAAD,EAAAnE,eAA0BqE,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAiBE,OAAOpJ,GAAA,SAAYkJ,EAAA,OAAYG,YAAA,OAAAD,OAA0BE,IAAMC,EAAQ,WAAsBP,EAAAQ,GAAA,KAAAN,EAAA,OAAwBG,YAAA,oBAA8BL,EAAAzL,iBAA4GyL,EAAAS,KAA5GP,EAAA,OAAoCG,YAAA,wBAAkCH,EAAA,OAAYG,YAAA,gBAA0BL,EAAAQ,GAAA,gCAAAR,EAAAQ,GAAA,KAAAR,EAAAU,GAAA,KAAAV,EAAAQ,GAAA,MAAAR,EAAAxL,aAAAwL,EAAAzL,iBAAA2L,EAAA,OAA2IG,YAAA,wBAAkCH,EAAA,OAAYG,YAAA,gBAA0BL,EAAAQ,GAAA,yBAAAR,EAAAQ,GAAA,KAAAN,EAAA,UAAAA,EAAA,aAA2ES,IAAIC,MAAAZ,EAAA/J,iBAA2B+J,EAAAQ,GAAA,sBAAAR,EAAAS,KAAAT,EAAAQ,GAAA,KAAAR,EAAA,YAAAE,EAAA,OAAgFG,YAAA,qBAA+BH,EAAA,OAAYG,YAAA,gBAA0BL,EAAAQ,GAAA,wBAAAR,EAAAQ,GAAA,KAAAR,EAAAa,GAAAb,EAAA,kBAAAH,GAAkF,OAAAK,EAAA,OAAiBtL,IAAAiL,EAAA5E,KAAAoF,YAAA,eAAuCH,EAAA,OAAYG,YAAA,UAAoBL,EAAAQ,GAAAR,EAAAc,GAAAjB,EAAApD,UAAAuD,EAAAQ,GAAA,KAAAN,EAAA,OAAqDG,YAAA,UAAoBL,EAAAQ,GAAAR,EAAAc,GAAAjB,EAAAzG,eAAiC,GAAA4G,EAAAS,KAAAT,EAAAQ,GAAA,KAAAR,EAAA,YAAAE,EAAA,OAAuDG,YAAA,qBAA+BH,EAAA,OAAYG,YAAA,gBAA0BL,EAAAQ,GAAA,kBAAAR,EAAAQ,GAAA,KAAAN,EAAA,UAAAA,EAAA,YAAmEE,OAAOW,YAAA,aAA0BC,OAAQ5H,MAAA4G,EAAA,KAAAiB,SAAA,SAAAC,GAA0ClB,EAAAtL,KAAAwM,GAAaC,WAAA,UAAoBjB,EAAA,YAAiBkB,KAAA,YAAepB,EAAAQ,GAAA,kBAAAR,EAAAQ,GAAA,KAAAN,EAAA,UAAAA,EAAA,YAAmEE,OAAOW,YAAA,gBAAAM,KAAA,YAAgDL,OAAQ5H,MAAA4G,EAAA,SAAAiB,SAAA,SAAAC,GAA8ClB,EAAArL,SAAAuM,GAAiBC,WAAA,cAAwBjB,EAAA,YAAiBkB,KAAA,YAAepB,EAAAQ,GAAA,iBAAAR,EAAAQ,GAAA,KAAAN,EAAA,UAAAA,EAAA,YAAkEE,OAAOW,YAAA,0BAAuCC,OAAQ5H,MAAA4G,EAAA,IAAAiB,SAAA,SAAAC,GAAyClB,EAAApL,IAAAsM,GAAYC,WAAA,SAAmBjB,EAAA,YAAiBkB,KAAA,YAAepB,EAAAQ,GAAA,iBAAAR,EAAAQ,GAAA,KAAAN,EAAA,UAAAA,EAAA,aAAmEE,OAAOkB,SAAAtB,EAAAnL,UAAwB8L,IAAKC,MAAAZ,EAAAhD,aAAuBgD,EAAAQ,GAAA,oBAAAR,EAAAS,KAAAT,EAAAQ,GAAA,KAAAR,EAAA,YAAAE,EAAA,OAA8EG,YAAA,wBAAkCH,EAAA,OAAYG,YAAA,gBAA0BL,EAAAQ,GAAA,qBAAAR,EAAAQ,GAAA,KAAAR,EAAAhL,YAAAwE,OAAA,GAAA0G,EAAA,SAAAF,EAAAa,GAAAb,EAAA,qBAAAH,GAA4H,OAAAK,EAAA,OAAiBtL,IAAAiL,EAAA5E,KAAAoF,YAAA,gBAAwCH,EAAA,aAAkBE,OAAOmB,KAAA,QAAAC,MAAA,IAA0Bb,IAAKC,MAAA,SAAAa,GAAyB,OAAAzB,EAAAxC,YAAAqC,EAAA5E,UAAoC+E,EAAAQ,GAAAR,EAAAc,GAAAjB,EAAApD,WAAA,KAAmC,GAAAuD,EAAAQ,GAAA,KAAAN,EAAA,UAAAA,EAAA,YAA6CE,OAAOW,YAAA,0BAAuCC,OAAQ5H,MAAA4G,EAAA,IAAAiB,SAAA,SAAAC,GAAyClB,EAAApL,IAAAsM,GAAYC,WAAA,SAAmBjB,EAAA,YAAiBkB,KAAA,YAAepB,EAAAQ,GAAA,iBAAAR,EAAAQ,GAAA,KAAAN,EAAA,UAAAA,EAAA,YAAkEE,OAAOiB,KAAA,WAAAN,YAAA,SAAAW,KAAA,IAAmDV,OAAQ5H,MAAA4G,EAAA,cAAAiB,SAAA,SAAAC,GAAmDlB,EAAA/K,cAAAiM,GAAsBC,WAAA,oBAA6B,IAAAjB,EAAA,KAAAF,EAAAQ,GAAA,uDAAAR,EAAAS,OAAAT,EAAAQ,GAAA,KAAAR,EAAAU,GAAA,MAEh4FiB,iBADjB,WAAoC,IAAa1B,EAAbpK,KAAagG,eAA0BqE,EAAvCrK,KAAuCsK,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,KAA/DrK,KAA+D2K,GAAA,iFAAAN,EAAA,KAA+GE,OAAOwB,KAAA,uFAAAlG,OAAA,YAArL7F,KAAsS2K,GAAA,UAAtS3K,KAAsS2K,GAAA,6CAAsE,WAAc,IAAaP,EAAbpK,KAAagG,eAA0BqE,EAAvCrK,KAAuCsK,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAiBG,YAAA,cAAhFxK,KAAwG2K,GAAA,kCAAAN,EAAA,KAAmDE,OAAOwB,KAAA,6CAAAlG,OAAA,YAAlK7F,KAAyO2K,GAAA,qBAAzO3K,KAAyO2K,GAAA,6CCEvoB,IAuBeqB,EAvBUtB,EAAQ,OAcjCuB,CACE3N,EACA2L,GATF,EAVA,SAAAiC,GACExB,EAAQ,SAaV,KAEA,MAUgC,kBCnBhCyB,UAAIC,OAAOC,eAAgB,EAC3BF,UAAIG,IAAIC,KAGR,IAAIJ,WACFK,GAAI,OACJhO,YAAcF,OACdmO,SAAU,+BCdZzO,EAAOC,SACL8E,OAAQ,2BACRrC,WAAY,uCACZuD,aAAc,uCACdC,aAAc,uCACdC,UAAW,uCACXC,WAAY,uCACZsI,MAAO,uCACPrI,eAAgB,uCAChBC,UAAW,uCACXC,qBAAsB,uCACtBC,sBAAuB,uCACvBV,kBAAmB,WACnBd,kBAAmB,eACnBa,YAAa,WACbE,qBAAsB,WACtBP,qBAAsB","file":"static/js/app.fe87fb8783f788ee659d.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4Ny43NCAyOS45NCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5sb2dvPC90aXRsZT48ZyBpZD0i5Zu+5bGCXzIiIGRhdGEtbmFtZT0i5Zu+5bGCIDIiPjxnIGlkPSJMYXllcl8xIiBkYXRhLW5hbWU9IkxheWVyIDEiPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI1LjIzLDYuMzhsLTEuNDQtLjgzTDE2LjMyLDEuMjQsMTQuODguNGEzLjA1LDMuMDUsMCwwLDAtMywwbC0xLjQ0Ljg0TDMsNS41NWwtMS40NC44M0EzLDMsMCwwLDAsMCw5VjIxYTMsMywwLDAsMCwxLjUxLDIuNjFMMywyNC4zOWw3LjQ3LDQuMzEsMS40NC44NGEzLjA1LDMuMDUsMCwwLDAsMywwbDEuNDQtLjg0LDcuNDctNC4zMSwxLjQ0LS44M0EzLDMsMCwwLDAsMjYuNzQsMjFWOUEzLDMsMCwwLDAsMjUuMjMsNi4zOFpNMTIuNCwxNC4xNSwzLjM0LDguOTJhLjgxLjgxLDAsMCwxLC4wOS0xLjM1bDkuMjQtNS4zNGExLjQyLDEuNDIsMCwwLDEsMS40MSwwbDkuMTksNS4zNWEuNzEuNzEsMCwwLDEsMCwxLjIzbC04LjkzLDUuMzRBMS45NCwxLjk0LDAsMCwxLDEyLjQsMTQuMTVabTQuNzIsOS4wNS0xLC41OEEuMjEuMjEsMCwwLDAsMTYsMjR2M2EuMTkuMTksMCwwLDEtLjEuMTdsLTEuOTQsMS4xYS4yLjIsMCwwLDEtLjI5LS4xN1YxOC43OWEuMTguMTgsMCwwLDEsLjEtLjE3bDMuMy0xLjg3YzIuMTQtMS4yMSwzLjkxLTEuNDUsMy45MSwxUzE5LjE3LDIyLDE3LjEyLDIzLjJabTYuOTUtLjc5YS4xOS4xOSwwLDAsMS0uMS4xN2wtMS45MiwxLjA5YS4yLjIsMCwwLDEtLjI5LS4xN1YxOS4wOWEuMjEuMjEsMCwwLDEsLjEtLjE3bDEuOTItMS4wOGEuMi4yLDAsMCwxLC4yOS4xN1ptLTEuMTUtNS4xMmMtLjc4LjQ1LTEuMzMuMjYtMS4zMy0uNDNhMi40NywyLjQ3LDAsMCwxLDEuMzMtMmMuNzctLjQ0LDEuMzItLjI1LDEuMzIuNDVBMi40NywyLjQ3LDAsMCwxLDIyLjkyLDE3LjI5WiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTE4LjY4LDE5QTIuOCwyLjgsMCwwLDEsMTcsMjEuNDJsLS43My40MmEuMi4yLDAsMCwxLS4yOS0uMTdWMTkuMzFhLjE5LjE5LDAsMCwxLC4xLS4xN2wuODYtLjQ4QzE4LjA2LDE4LDE4LjY4LDE4LDE4LjY4LDE5WiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTMzLjc1LDkuODNIMzAuNDZWMjEuMzVoMS40NlYxNi43OGgxLjkxYzIuNTEsMCw0LjI0LTEuMTQsNC4yNC0zLjU3UzM2LjM0LDkuODMsMzMuNzUsOS44M1ptLS4xMSw1Ljc3SDMxLjkyVjExaDEuNjZjMiwwLDMsLjUzLDMsMi4yUzM1LjY3LDE1LjYsMzMuNjQsMTUuNloiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik00MCwxMi44MXY4LjU0aDEuNDNWMTIuODFabS43Mi0zLjYxYS45LjksMCwwLDAtMSwuOTMsMSwxLDAsMCwwLDIsMEEuOS45LDAsMCwwLDQwLjY4LDkuMloiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik00OS42NSwxNC43bC0xLjQ2LS41OGMtMS0uNDEtMS43Ny0uNjYtMS43Ny0xLjMxcy41My0xLDEuNC0xYTMuNzUsMy43NSwwLDAsMSwyLjQuOUw1MS42MiwxMWE1LjQxLDUuNDEsMCwwLDAtMy44LTEuNTVjLTIuNDksMC00LjI1LDEuNTgtNC4yNSwzLjU0QTMuNDMsMy40MywwLDAsMCw0NiwxNi4xOGwxLjQ5LjYzYzEsLjQyLDEuNjUuNjQsMS42NSwxLjMycy0uNDksMS0xLjUzLDFBNC43Miw0LjcyLDAsMCwxLDQ0LjcyLDE4bC0xLjU5LDEuOTRhNi41OCw2LjU4LDAsMCwwLDQuMzcsMS42OGMyLjgzLDAsNC40Ny0xLjcxLDQuNDctMy42NkEzLjI0LDMuMjQsMCwwLDAsNDkuNjUsMTQuN1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik01OC42MSwxMi40MXY1Ljg2YTEuNjgsMS42OCwwLDAsMS0xLjQ5LjkxYy0uNzEsMC0xLS4zNS0xLTEuNTlWMTIuNDFINTMuMjl2NS41M2MwLDIuMjMuODMsMy42MywyLjc4LDMuNjNhMy40OSwzLjQ5LDAsMCwwLDIuOC0xLjQ1aC4wNmwuMiwxLjIzaDIuMjhWMTIuNDFaIi8+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNjguMTcsMTkuNTlINjYuNzZjLTEsMC0xLjMyLS4xOS0xLjMyLS42YS43MS43MSwwLDAsMSwuMjgtLjYzLDQsNCwwLDAsMCwxLjA1LjE2YzIsMCwzLjU3LS45MSwzLjU3LTNhMi4zNywyLjM3LDAsMCwwLS4yNS0xLjA5aDEuMzh2LTJINjguMTlhNC4xOSw0LjE5LDAsMCwwLTEuNDItLjIyYy0xLjkzLDAtMy43NCwxLjA2LTMuNzQsMy4yNWEyLjg2LDIuODYsMCwwLDAsMS4yMSwyLjMxdi4wNmEyLjE3LDIuMTcsMCwwLDAtMSwxLjY3QTEuNzUsMS43NSwwLDAsMCw2NC4wNywyMXYuMDhhMiwyLDAsMCwwLTEuMjcsMS43NmMwLDEuNiwxLjY5LDIuMjUsMy43NSwyLjI1LDMuMTEsMCw1LjA2LTEuMzQsNS4wNi0zLjIzQzcxLjYxLDIwLjI2LDcwLjM3LDE5LjU5LDY4LjE3LDE5LjU5Wm0tMS40LTUuNTNjLjY2LDAsMS4xMy40NywxLjEzLDEuMzhzLS40NywxLjQtMS4xMywxLjQtMS4xMy0uNDctMS4xMy0xLjRTNjYuMTMsMTQuMDYsNjYuNzcsMTQuMDZabS4yMiw5LjNjLTEuMTUsMC0xLjktLjMxLTEuOS0uOTRhMSwxLDAsMCwxLC40Mi0uOCw0Ljc5LDQuNzksMCwwLDAsMS4yOC4xMWguODVjLjgzLDAsMS4zLjExLDEuMy42NFM2OC4xNCwyMy4zNiw2NywyMy4zNloiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik03Ni4xMiwxMi4xOWE3LjUyLDcuNTIsMCwwLDAtMy44NSwxLjE3bDEsMS44NGE0Ljg5LDQuODksMCwwLDEsMi4zNC0uNzhjLjkxLDAsMS4yOS40MiwxLjM1LDEuMTQtMy40OS4zOC01LDEuNC01LDMuMjlhMi41OSwyLjU5LDAsMCwwLDIuNjYsMi43MiwzLjgyLDMuODIsMCwwLDAsMi41Ni0xLjEyaC4wN2wuMi45aDIuMjhWMTYuMjdDNzkuNzQsMTMuNDcsNzguNDMsMTIuMTksNzYuMTIsMTIuMTlabS44Miw2LjVhMS43NiwxLjc2LDAsMCwxLTEuMzUuNzFjLS41OCwwLTEtLjI1LTEtLjc3cy41Ny0xLjEzLDIuMzEtMS4zN1oiLz48cGF0aCBjbGFzcz0iY2xzLTEiIGQ9Ik04Ni42NiwxMi4xOUEzLjA2LDMuMDYsMCwwLDAsODQuMTEsMTRoLS4wNmwtLjE5LTEuNTVIODEuNTh2OC45NGgyLjc4VjE2LjI0YTIuMTcsMi4xNywwLDAsMSwxLjkzLTEuNiwzLjYyLDMuNjIsMCwwLDEsMSwuMTRsLjQ3LTIuNDFBMi41NCwyLjU0LDAsMCwwLDg2LjY2LDEyLjE5WiIvPjwvZz48L2c+PC9zdmc+\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/logo.svg\n// module id = AqYs\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <img class=\"logo\" src=\"./assets/logo.svg\">\n    <div class=\"panel-container\">\n      <div v-if=\"!supportBluetooth\" class=\"connect-panel panel\">\n        <div class=\"panel-title\">Cannot find web bluetooth.</div>\n        <p>Please make sure your device and browser support web bluetooth. Please visit <a href=\"https://github.com/WebBluetoothCG/web-bluetooth/blob/master/implementation-status.md\" target=\"_blank\">Here</a> to check web-bluetooth compatibility.</p>\n      </div>\n      <div v-if=\"!isConnected && supportBluetooth\" class=\"connect-panel panel\">\n        <div class=\"panel-title\">Connect your pi ...</div>\n        <el-row>\n          <el-button @click=\"connectDevice\">Discover</el-button>\n        </el-row>\n      </div>\n      <div v-if=\"isConnected\" class=\"info-panel panel\">\n        <div class=\"panel-title\">Device Information</div>\n        <div v-for=\"item in infoList\" :key=\"item.uuid\" class=\"info-group\">\n          <div class=\"label\">{{item.label}}</div>\n          <div class=\"value\">{{item.value}}</div>\n        </div>\n      </div>\n      <div v-if=\"isConnected\" class=\"wifi-panel panel\">\n        <div class=\"panel-title\">Wifi Setting</div>\n        <el-row>\n          <el-input placeholder=\"Wifi name\" v-model=\"ssid\">\n            <template slot=\"prepend\">Wifi</template>\n          </el-input>\n        </el-row>\n        <el-row>\n          <el-input placeholder=\"Wifi password\" v-model=\"password\" type=\"password\">\n            <template slot=\"prepend\">Psw</template>\n          </el-input>\n        </el-row>\n        <el-row>\n          <el-input placeholder=\"Key (Default: pisugar)\" v-model=\"key\">\n            <template slot=\"prepend\">Key</template>\n          </el-input>\n        </el-row>\n        <el-row>\n          <el-button @click=\"inputWifi\" :disabled=\"wifiLock\">Submit</el-button>\n        </el-row>\n      </div>\n      <div v-if=\"isConnected\" class=\"command-panel panel\">\n        <div class=\"panel-title\">Custom Commands</div>\n        <template v-if=\"commandList.length > 0\">\n          <el-row>\n            <div v-for=\"item in commandList\" :key=\"item.uuid\" class=\"button-wrap\">\n              <el-button size=\"small\" round @click=\"sendCommand(item.uuid)\">{{item.label}}</el-button>\n            </div>\n          </el-row>\n          <el-row>\n            <el-input placeholder=\"Key (Default: pisugar)\" v-model=\"key\">\n              <template slot=\"prepend\">Key</template>\n            </el-input>\n          </el-row>\n          <el-row>\n            <el-input\n              type=\"textarea\"\n              placeholder=\"Output\"\n              v-model=\"commandOutput\"\n              :rows=\"10\"\n            ></el-input>\n          </el-row>\n        </template>\n        <p v-else>\n          No custom command is found.\n        </p>\n      </div>\n    </div>\n    <div class=\"copyright\">This Project is maintained by <a href=\"https://github.com/PiSugar/sugar-wifi-conf\" target=\"_blank\">PiSugar Kitchen</a>. Open source under GPL-3.0 license.</div>\n  </div>\n</template>\n\n<script>\n  import { Loading } from 'element-ui';\n  import UUID from './sugar-uuid'\n  for (let i in UUID) {\n    UUID[i] = UUID[i].toLowerCase()\n  }\n  export default {\n    name: 'App',\n    components: {\n\n    },\n    data () {\n      return {\n        supportBluetooth: false,\n        isConnected: false,\n        serverId: '',\n        ssid: '',\n        password: '',\n        key: 'pisugar',\n        wifiLock: false,\n        characteristicsList: [],\n        infoList: [],\n        commandList: [],\n        commandOutput: '',\n        commandOutputShouldRefresh: false,\n        loading: null,\n        charLength: -1,\n        customInfoCount: 0,\n        customCommandCount: 0,\n        isAndroid: navigator.userAgent.indexOf('Android') > -1 || navigator.userAgent.indexOf('Adr') > -1,\n        isIphone: navigator.userAgent.indexOf('iPhone') > -1 || navigator.userAgent.indexOf('iphone') > -1\n        // isIphone: true\n      }\n    },\n    mounted () {\n      this.supportBluetooth = window.navigator.bluetooth\n    },\n    methods: {\n      connectDevice () {\n        const that = this\n        navigator.bluetooth.requestDevice({\n          filters: [{\n            services: [UUID.SERVICE_ID]\n          }]\n        })\n          .then(device => {\n            that.loading = Loading.service({ fullscreen: true })\n            return device.gatt.connect()\n          })\n          .then(server => {\n            that.serverId = server.device.id\n            return server.getPrimaryService(UUID.SERVICE_ID)\n          })\n          .then(service => {\n            if (this.isIphone) {\n              // iOS webBLE does not support getCharacteristics()\n              console.log('ios webBLE')\n              return this.webBleConnect(service)\n            } else {\n              return service.getCharacteristics()\n            }\n          })\n          .then(characteristics => {\n            that.characteristicsList = characteristics\n            that.isConnected = true\n            that.loading.close()\n            // console.log(that.characteristicsList)\n          })\n          .catch(console.log)\n      },\n      webBleConnect (service) {\n        const that = this\n        return new Promise(async resolve => {\n          await service.getCharacteristic(UUID.PREFIX + UUID.CUSTOM_INFO_COUNT)\n            .then(characteristic => characteristic.readValue())\n            .then(i => i.buffer)\n            .then(this.ab2str)\n            .then(parseInt)\n            .then(value => {\n              console.log('custom-info-count ' + value)\n              that.customInfoCount = value\n            })\n          await service.getCharacteristic(UUID.PREFIX + UUID.CUSTOM_COMMAND_COUNT)\n            .then(characteristic => characteristic.readValue())\n            .then(i => i.buffer)\n            .then(this.ab2str)\n            .then(parseInt)\n            .then(value => {\n              console.log('custom-command-count ' + value)\n              that.customCommandCount = value\n            })\n          let customInfoList = []\n          for (let index = 0; index < that.customInfoCount; index++) {\n            let ending = (index + 1).toString(16)\n            ending = '0'.repeat(4 - ending.length) + ending\n            customInfoList.push(UUID.PREFIX + UUID.CUSTOM_INFO + ending)\n            customInfoList.push(UUID.PREFIX + UUID.CUSTOM_INFO_LABEL + ending)\n          }\n          let customCommandList = []\n          for (let index = 0; index < that.customCommandCount; index++) {\n            let ending = (index + 1).toString(16)\n            ending = '0'.repeat(4 - ending.length) + ending\n            customCommandList.push(UUID.PREFIX + UUID.CUSTOM_COMMAND_LABEL + ending)\n          }\n          resolve(Promise.all([\n            service.getCharacteristic(UUID.SERVICE_NAME),\n            service.getCharacteristic(UUID.DEVICE_MODEL),\n            service.getCharacteristic(UUID.WIFI_NAME),\n            service.getCharacteristic(UUID.IP_ADDRESS),\n            service.getCharacteristic(UUID.NOTIFY_MESSAGE),\n            service.getCharacteristic(UUID.INPUT_SEP),\n            service.getCharacteristic(UUID.CUSTOM_COMMAND_INPUT),\n            service.getCharacteristic(UUID.CUSTOM_COMMAND_NOTIFY),\n            ...customInfoList.map(i => service.getCharacteristic(i)),\n            ...customCommandList.map(i => service.getCharacteristic(i))\n          ]))\n        })\n      },\n      ab2str (buf) {\n        return String.fromCharCode.apply(null, new Uint8Array(buf));\n      },\n      getCharacteristic (uuid) {\n        return this.characteristicsList.find(i => i.uuid === uuid)\n      },\n      subscribeCharacteristic (uuid) {\n        return new Promise(async resolve => {\n          this.getCharacteristic(uuid).addEventListener('characteristicvaluechanged', event => {\n            if (event.target.uuid === UUID.NOTIFY_MESSAGE) {\n              let msg = this.ab2str(event.target.value.buffer)\n              const h = this.$createElement\n              this.$notify({\n                title: 'Error',\n                message: h('i', { style: 'color: teal'}, msg)\n              })\n            } else if (event.target.uuid === UUID.CUSTOM_COMMAND_NOTIFY) {\n              let msg = this.ab2str(event.target.value.buffer)\n              if (this.commandOutputShouldRefresh) {\n                this.commandOutputShouldRefresh = false\n                this.commandOutput = ''\n              }\n              let output = this.commandOutput + msg\n              if (output.endsWith('&#&')) {\n                output = output.replace('&#&', '')\n                this.commandOutputShouldRefresh = true\n              }\n              this.commandOutput = output\n            } else {\n              let value = this.ab2str(event.target.value.buffer)\n              let char = this.infoList.find(i => i.uuid === uuid)\n              let char_label = this.infoList.find(i => i.uuid_label === uuid)\n              if (char) {\n                char.value = value\n              }\n              if (char_label) {\n                char_label.label = value\n              }\n            }\n          })\n          await this.getCharacteristic(uuid).startNotifications()\n          resolve()\n        })\n      },\n      readInfoCharacteristic (uuid) {\n        return new Promise(resolve => {\n          this.getCharacteristic(uuid).readValue()\n            .then(i => i.buffer)\n            .then(this.ab2str)\n            .then((value) => {\n              let char = this.infoList.find(i => i.uuid === uuid)\n              let char_label = this.infoList.find(i => i.uuid_label === uuid)\n              if (char) {\n                char.value = value\n              }\n              if (char_label) {\n                char_label.label = value\n              }\n              resolve()\n            })\n        })\n      },\n      readCommandLabel (uuid) {\n        return new Promise(resolve => {\n          this.getCharacteristic(uuid).readValue()\n            .then(i => i.buffer)\n            .then(this.ab2str)\n            .then((label) => {\n              this.commandList.find(i => i.uuid === uuid).label = label\n              resolve()\n            })\n        })\n      },\n      inputWifi () {\n        let key = this.key.trim().replace(/\\|/g, \"*\")\n        let ssid = this.ssid.trim().replace(/\\|/g, \"*\")\n        let password = this.password.trim().replace(/\\|/g, \"*\")\n        let errMsg\n        if (ssid === '') {\n          errMsg = 'SSID cannot be empty.'\n        }\n        if (password === '') {\n          errMsg = 'Password cannot be empty.'\n        }\n        if (errMsg) {\n          const h = this.$createElement\n          this.$notify({\n            title: 'Error',\n            message: h('i', { style: 'color: teal'}, errMsg)\n          })\n          return\n        }\n        this.wifiLock = true\n        setTimeout(() => {\n          this.wifiLock = false\n        }, 4000)\n        let sendArray = this.str2abs(`${key}%&%${ssid}%&%${password}&#&`)\n        this.sendSeparately(sendArray, UUID.INPUT_SEP)\n      },\n      sendCommand (uuid) {\n        let sendArray = this.str2abs(`${this.key}%&%${uuid.slice(-4)}&#&`)\n        this.sendSeparately(sendArray, UUID.CUSTOM_COMMAND_INPUT)\n      },\n      async sendSeparately (array, uuid) {\n        for (const i in array) {\n          await this.getCharacteristic(uuid).writeValue(array[i])\n          await this.wait(0.4)\n        }\n      },\n      async wait (sec) {\n        return new Promise((resolve => {\n          setTimeout(() => {\n            resolve(true)\n          }, 1000 * sec)\n        }))\n      },\n      str2abs(str) {\n        let val = ''\n        for (let i = 0; i < str.length; i++) {\n          if (val === '') {\n            val = str.charCodeAt(i).toString(16)\n          } else {\n            val += ',' + str.charCodeAt(i).toString(16)\n          }\n        }\n        let valArray = val.split(',')\n        let bufferArray = []\n        while (valArray.length > 0) {\n          let value = valArray.splice(0, 20).join(',')\n          bufferArray.push(new Uint8Array(value.match(/[\\da-f]{2}/gi).map(function (h) {\n            return parseInt(h, 16)\n          })).buffer)\n        }\n        return bufferArray\n      }\n    },\n    watch: {\n      async isConnected (val, oldVal) {\n        if (val === true && oldVal === false) {\n          console.log('Connected!')\n          this.infoList = []\n          this.infoList.push({\n            preset: true,\n            uuid: '',\n            label: 'Device ID',\n            value: this.serverId\n          })\n          this.infoList.push({\n            preset: true,\n            uuid: UUID.DEVICE_MODEL,\n            label: 'Model',\n            value: ' '\n          })\n          this.infoList.push({\n            preset: true,\n            uuid: UUID.WIFI_NAME,\n            label: 'Wifi',\n            value: '...'\n          })\n          this.infoList.push({\n            preset: true,\n            uuid: UUID.IP_ADDRESS,\n            label: 'IP Address',\n            value: '...'\n          })\n          await this.subscribeCharacteristic(UUID.WIFI_NAME)\n          await this.subscribeCharacteristic(UUID.IP_ADDRESS)\n          await this.readInfoCharacteristic(UUID.DEVICE_MODEL)\n          await this.subscribeCharacteristic(UUID.NOTIFY_MESSAGE)\n          await this.subscribeCharacteristic(UUID.CUSTOM_COMMAND_NOTIFY)\n          this.characteristicsList.filter(i => i.uuid.indexOf(UUID.CUSTOM_INFO_LABEL) >= 0).map(item => {\n            this.infoList.push({\n              uuid: item.uuid.replace(UUID.CUSTOM_INFO_LABEL, UUID.CUSTOM_INFO),\n              uuid_label: item.uuid,\n              label: '-',\n              value: ''\n            })\n          })\n          for (let i = 0; i < this.infoList.length; i++) {\n            if (this.infoList[i].preset) continue\n            await this.readInfoCharacteristic(this.infoList[i].uuid_label)\n            await this.subscribeCharacteristic(this.infoList[i].uuid)\n          }\n          this.characteristicsList.filter(i => i.uuid.indexOf(UUID.CUSTOM_COMMAND_LABEL) >= 0).map(item => {\n            this.commandList.push({\n              uuid: item.uuid,\n              label: '...'\n            })\n          })\n          for (let i = 0; i < this.commandList.length; i++) {\n            await this.readCommandLabel(this.commandList[i].uuid)\n          }\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n  *{\n    box-sizing: border-box;\n  }\n  html{\n    width: 100%;\n    height: 100%;\n    background-color: orange;\n    padding: 0;\n    margin: 0;\n  }\n  body{\n    padding: 10px 16px;\n    margin: 0;\n    background: linear-gradient(#ffe025, orange);\n  }\n  .logo{\n    width: 160px;\n  }\n  #app {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n     -webkit-font-smoothing: antialiased;\n     -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n    margin-top: 30px;\n  }\n  .panel{\n    position: relative;\n    width: 100%;\n    min-height: 50px;\n    background-color: #fff;\n    margin-top: 20px;\n    border-radius: 6px;\n    box-shadow: 0 0 5px 2px rgba(230, 157, 42, 0.08);\n    padding: 15px 20px;\n    text-align: left;\n    &:after{\n      content: ' ';\n      display: block;\n      clear: both;\n    }\n  }\n  .connect-panel{\n    p{\n      color: #999;\n    }\n  }\n  .el-row{\n    margin-bottom: 15px;\n  }\n  .command-panel{\n    .button-wrap{\n      float: left;\n      margin: 0 10px 10px 0;\n    }\n  }\n  .panel-title{\n    width: 100%;\n    height: 30px;\n    text-align: left;\n    font-size: 16px;\n    margin-bottom: 12px;\n    font-weight: bold;\n  }\n  .info-group{\n    position: relative;\n    float: left;\n    display: block;\n    text-align: left;\n    width: 48%;\n    margin-bottom: 20px;\n    margin-right: 1%;\n    overflow: hidden;\n    min-height: 45px;\n    .label{\n      font-size: 14px;\n      font-weight: bold;\n      color: #758699;\n    }\n    .value{\n      width: 96%;\n      font-size: 14px;\n      overflow:hidden;\n      text-overflow:ellipsis;\n    }\n  }\n  .code{\n    display: block;\n    width: 100%;\n    height: 100px;\n    background-color: #333333;\n    color: #e4edff;\n    padding: 6px 10px;\n  }\n  .copyright{\n    width: 100%;\n    color: white;\n    padding: 20px 0;\n    a{\n      color: white;\n    }\n  }\n  @media screen and (min-width: 900px) {\n    .panel-container {\n      display: flex;\n      justify-content: space-between;\n    }\n    .panel{\n      margin-right: 10px;\n    }\n    .copyright{\n      position: fixed;\n      bottom: 10px;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"./assets/logo.svg\")}}),_vm._v(\" \"),_c('div',{staticClass:\"panel-container\"},[(!_vm.supportBluetooth)?_c('div',{staticClass:\"connect-panel panel\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"Cannot find web bluetooth.\")]),_vm._v(\" \"),_vm._m(0)]):_vm._e(),_vm._v(\" \"),(!_vm.isConnected && _vm.supportBluetooth)?_c('div',{staticClass:\"connect-panel panel\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"Connect your pi ...\")]),_vm._v(\" \"),_c('el-row',[_c('el-button',{on:{\"click\":_vm.connectDevice}},[_vm._v(\"Discover\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.isConnected)?_c('div',{staticClass:\"info-panel panel\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"Device Information\")]),_vm._v(\" \"),_vm._l((_vm.infoList),function(item){return _c('div',{key:item.uuid,staticClass:\"info-group\"},[_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(item.label))]),_vm._v(\" \"),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(item.value))])])})],2):_vm._e(),_vm._v(\" \"),(_vm.isConnected)?_c('div',{staticClass:\"wifi-panel panel\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"Wifi Setting\")]),_vm._v(\" \"),_c('el-row',[_c('el-input',{attrs:{\"placeholder\":\"Wifi name\"},model:{value:(_vm.ssid),callback:function ($$v) {_vm.ssid=$$v},expression:\"ssid\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"Wifi\")])],2)],1),_vm._v(\" \"),_c('el-row',[_c('el-input',{attrs:{\"placeholder\":\"Wifi password\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"Psw\")])],2)],1),_vm._v(\" \"),_c('el-row',[_c('el-input',{attrs:{\"placeholder\":\"Key (Default: pisugar)\"},model:{value:(_vm.key),callback:function ($$v) {_vm.key=$$v},expression:\"key\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"Key\")])],2)],1),_vm._v(\" \"),_c('el-row',[_c('el-button',{attrs:{\"disabled\":_vm.wifiLock},on:{\"click\":_vm.inputWifi}},[_vm._v(\"Submit\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.isConnected)?_c('div',{staticClass:\"command-panel panel\"},[_c('div',{staticClass:\"panel-title\"},[_vm._v(\"Custom Commands\")]),_vm._v(\" \"),(_vm.commandList.length > 0)?[_c('el-row',_vm._l((_vm.commandList),function(item){return _c('div',{key:item.uuid,staticClass:\"button-wrap\"},[_c('el-button',{attrs:{\"size\":\"small\",\"round\":\"\"},on:{\"click\":function($event){return _vm.sendCommand(item.uuid)}}},[_vm._v(_vm._s(item.label))])],1)}),0),_vm._v(\" \"),_c('el-row',[_c('el-input',{attrs:{\"placeholder\":\"Key (Default: pisugar)\"},model:{value:(_vm.key),callback:function ($$v) {_vm.key=$$v},expression:\"key\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"Key\")])],2)],1),_vm._v(\" \"),_c('el-row',[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"Output\",\"rows\":10},model:{value:(_vm.commandOutput),callback:function ($$v) {_vm.commandOutput=$$v},expression:\"commandOutput\"}})],1)]:_c('p',[_vm._v(\"\\n        No custom command is found.\\n      \")])],2):_vm._e()]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Please make sure your device and browser support web bluetooth. Please visit \"),_c('a',{attrs:{\"href\":\"https://github.com/WebBluetoothCG/web-bluetooth/blob/master/implementation-status.md\",\"target\":\"_blank\"}},[_vm._v(\"Here\")]),_vm._v(\" to check web-bluetooth compatibility.\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"copyright\"},[_vm._v(\"This Project is maintained by \"),_c('a',{attrs:{\"href\":\"https://github.com/PiSugar/sugar-wifi-conf\",\"target\":\"_blank\"}},[_vm._v(\"PiSugar Kitchen\")]),_vm._v(\". Open source under GPL-3.0 license.\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09f36efa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09f36efa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09f36efa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nVue.config.productionTip = false\nVue.use(ElementUI)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\n  PREFIX: '00000000-0000-0000-0000-',\n  SERVICE_ID: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0000',\n  SERVICE_NAME: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0001',\n  DEVICE_MODEL: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0002',\n  WIFI_NAME: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0003',\n  IP_ADDRESS: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0004',\n  INPUT: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0005',\n  NOTIFY_MESSAGE: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0006',\n  INPUT_SEP: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0007',\n  CUSTOM_COMMAND_INPUT: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0008',\n  CUSTOM_COMMAND_NOTIFY: 'FD2B4448-AA0F-4A15-A62F-EB0BE77A0009',\n  CUSTOM_INFO_LABEL: 'FD2BCCCA',\n  CUSTOM_INFO_COUNT: 'FD2BCCAA0000',\n  CUSTOM_INFO: 'FD2BCCCB',\n  CUSTOM_COMMAND_LABEL: 'FD2BCCCC',\n  CUSTOM_COMMAND_COUNT: 'FD2BCCAC0000'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sugar-uuid.js"],"sourceRoot":""}